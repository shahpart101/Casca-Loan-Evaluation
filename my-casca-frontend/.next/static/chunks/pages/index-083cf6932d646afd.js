(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(8730)}])},8730:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return Home}});var s=l(5893),t=l(7294),o=l(7066),components_FileUpload=e=>{let{setEvaluationData:a}=e,[l,n]=(0,t.useState)(null),[r,d]=(0,t.useState)(null),[c,i]=(0,t.useState)(""),[u,p]=(0,t.useState)(!1);(0,t.useEffect)(()=>{console.log("FileUpload component mounted")},[]);let handleUpload=async()=>{if(console.log("Upload button clicked!"),!l){i("No file selected! Please choose a file.");return}let e=new FormData;e.append("file",l),p(!0),i(""),d(null);try{console.log("\uD83D\uDCC2 Uploading file: ".concat(l.name));let s=await o.Z.post("https://casca-loan-evaluation.onrender.com/upload/",e,{headers:{"Content-Type":"multipart/form-data"}});console.log("✅ Upload successful. Response:",s.data),d(s.data),a&&a(s.data)}catch(e){console.error("❌ Error uploading file:",e.response?e.response.data:e),i("File upload failed. Please try again.")}finally{p(!1)}};return(0,s.jsxs)("div",{className:"p-4 bg-white rounded-xl shadow-md max-w-md mx-auto",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-2 text-center",children:"Upload a PDF for Loan Evaluation"}),(0,s.jsx)("input",{type:"file",onChange:e=>{let a=e.target.files[0];if(!a){console.error("❌ No file selected."),i("Please select a file before uploading.");return}n(a),i(""),console.log("\uD83D\uDCC2 Selected file: ".concat(a.name))},className:"block w-full mb-4 border p-2 rounded-md"}),c&&(0,s.jsx)("p",{className:"text-red-500 text-center",children:c}),(0,s.jsx)("button",{onClick:handleUpload,disabled:u,className:"w-full px-4 py-2 mt-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50",children:u?"Uploading...":"Upload PDF"}),r&&(0,s.jsxs)("div",{className:"mt-4 p-4 border rounded-md bg-gray-100",children:[(0,s.jsx)("h3",{className:"text-lg font-bold",children:"Results:"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Risk Score:"})," ",r.RiskScore,"%"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Risk Category:"})," ",r.RiskCategory]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Interest Rate:"})," ",r.InterestRate,"%"]})]})]})};function Dashboard(){return(0,s.jsxs)("div",{className:"p-4 border rounded-md shadow-md bg-white",children:[(0,s.jsx)("h2",{className:"text-lg font-bold mb-2",children:"Risk Dashboard"}),(0,s.jsx)("p",{className:"text-gray-600",children:"This is where you can display risk metrics, graphs, or any additional info."})]})}function Home(){let[e,a]=(0,t.useState)(null);return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-100 p-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-center mb-6",children:"Welcome to Casca"}),(0,s.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,s.jsx)(components_FileUpload,{setEvaluationData:a}),e&&(0,s.jsx)(Dashboard,{evaluationData:e})]})]})}}},function(e){e.O(0,[66,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);